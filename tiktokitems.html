<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TikTok Items</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    .header-gradient {
      background: linear-gradient(135deg, #ffffff 60%, #e0f7fa 100%);
    }

    .thumb {
      width: 100%;
      padding-top: 177.78%; /* 9:16 aspect ratio */
      position: relative;
      border-radius: 12px;
      overflow: hidden;
    }

    .thumb img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  </style>
</head>

<body class="font-sans text-gray-800 bg-[#f8f8f8]">

<!-- SIDEBAR -->
<div id="sidebar"
    class="fixed top-0 left-0 h-full w-64 p-6 shadow-2xl transform -translate-x-full transition-transform duration-300 z-50 bg-white border-r border-gray-200">

  <h3 class="text-xl font-bold text-blue-500 mb-6">Navigation</h3>

  <nav class="flex flex-col space-y-3">
    <button onclick="navigate('home')" class="text-left py-2 px-3 rounded-lg font-medium hover:bg-gray-100">Home</button>
    <button onclick="navigate('data')" class="text-left py-2 px-3 rounded-lg font-medium hover:bg-gray-100">Spreadsheet</button>
    <button onclick="navigate('link-converter')" class="text-left py-2 px-3 rounded-lg font-medium hover:bg-gray-100">Link Converter</button>
    <button onclick="navigate('trusted-sellers')" class="text-left py-2 px-3 rounded-lg font-medium hover:bg-gray-100">Trusted Sellers</button>
    <button onclick="navigate('tiktok-items')" class="text-left py-2 px-3 rounded-lg font-medium bg-gray-200">TikTok Videos</button>
  </nav>
</div>

<div id="sidebarBackdrop"
    onclick="toggleSidebar()"
    class="hidden fixed inset-0 bg-black bg-opacity-50 z-40"></div>

<!-- MAIN WRAPPER -->
<div class="max-w-7xl mx-auto p-4 sm:p-8">

  <!-- HEADER -->
  <header class="header-gradient flex justify-between items-center mb-6 pb-4 rounded-b-xl shadow-md px-4 sm:px-8 pt-4">
    <svg onclick="toggleSidebar()" class="w-8 h-8 text-blue-500 cursor-pointer" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
    </svg>

    <img onclick="navigate('home')"
        src="https://raw.githubusercontent.com/MinerBlox/website/refs/heads/main/images/mainlogo.png"
        class="h-10 cursor-pointer">
  </header>


  <h1 class="text-3xl font-bold mb-6">TikTok Videos</h1>

  <div id="videoList" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6"></div>

</div>

<!-- FIREBASE LOADING -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import {
  getFirestore,
  collection,
  getDocs
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDTIzoJIvr0mYxw82c9QJJn8rXrMEy7JA",
  authDomain: "reps-central.firebaseapp.com",
  projectId: "reps-central",
  storageBucket: "reps-central.firebasestorage.app",
  messagingSenderId: "812299387060",
  appId: "1:812299387060:web:1c93d1e7bf30b65653d7e1"
};

initializeApp(firebaseConfig);
const db = getFirestore();

/* SIDEBAR NAV */
window.toggleSidebar = () => {
  const sb = document.getElementById('sidebar');
  const bg = document.getElementById('sidebarBackdrop');
  const closed = sb.classList.contains("-translate-x-full");

  if (closed) {
    sb.classList.remove("-translate-x-full");
    bg.classList.remove("hidden");
  } else {
    sb.classList.add("-translate-x-full");
    bg.classList.add("hidden");
  }
};

window.navigate = (p) => {
  if (p === "home") location.href = "index.html";
  if (p === "data") location.href = "products.html";
  if (p === "link-converter") location.href = "link-converter.html";
  if (p === "trusted-sellers") location.href = "trusted-sellers.html";
  if (p === "tiktok-items") location.href = "tiktokitems (3).html";
};


/* LOAD VIDEO LIST */
async function loadVideos() {
  const list = document.getElementById("videoList");
  list.innerHTML = "";

  const snap = await getDocs(collection(db, "tiktokvideos"));

  snap.forEach(docSnap => {
    const d = docSnap.data();

    list.innerHTML += `
      <a href="tiktokvideo.html?id=${docSnap.id}" class="block">
        <div class="thumb mb-2">
          <img src="${d.thumbnailurl}">
        </div>
        <div class="font-semibold text-lg">${d.name}</div>
      </a>
    `;
  });
}

loadVideos();
</script>

</body>
</html>
